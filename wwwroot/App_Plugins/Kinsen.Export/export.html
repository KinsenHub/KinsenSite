<div ng-controller="Kinsen.ExportController as vm" class="umb-pane">
  <div class="umb-panel-group">
    <div class="umb-panel-group__header">
      <h3 class="umb-panel-group__title">Import / Export</h3>
    </div>

    <div class="umb-panel-group__content">
      <p>
        Σελίδα: <strong>{{vm.name}}</strong> <br />
        Node key: <code>{{vm.key}}</code>
      </p>

      <div class="umb-button-group" style="margin: 12px 0">
        <a
          class="btn btn-primary"
          ng-href="/umbraco/backoffice/Kinsen/CarBlock/ExportCsv?id={{vm.key}}"
          target="_blank"
          rel="noopener"
        >
          Export CSV
        </a>
      </div>

      <hr />

      <form
        class="umb-editor umb-form"
        novalidate
        ng-submit="vm.import()"
        style="max-width: 520px"
      >
        <div class="umb-property">
          <div class="umb-property-label">
            <label>CSV αρχείο</label>
          </div>
          <div class="umb-property-editor">
            <input type="file" id="file" accept=".csv" />
          </div>
        </div>

        <div class="umb-property">
          <div class="umb-property-label">
            <label>Τρόπος</label>
          </div>
          <div class="umb-property-editor">
            <select ng-model="vm.mode">
              <option value="append">Προσθήκη (append)</option>
              <option value="replace">Αντικατάσταση (replace)</option>
            </select>
          </div>
        </div>

        <button type="submit" class="btn btn-success">Import CSV</button>
      </form>

      <pre
        style="
          white-space: pre-wrap;
          background: #f6f8fa;
          padding: 12px;
          border-radius: 8px;
          margin-top: 16px;
        "
      >
{{vm.out}}</pre
      >
    </div>
  </div>
</div>
