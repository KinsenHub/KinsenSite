@using Umbraco.Cms.Web.Common.PublishedModels;
@using Umbraco.Cms.Core.Models
@using Umbraco.Cms.Core.Models.Blocks
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage
@{
	Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Συχνές ερωτήσεις | kinsen.gr";
	var faqImg = Model.Value<MediaWithCrops>("faqImage");
	var faqTitle = Model.Value<string>("title");
	IEnumerable<BlockListItem> accordion = Model.Value<IEnumerable<BlockListItem>>("accordionQuestions");
}

@if (faqImg != null)
{
	<div class="faq-img-wrapper text-center my-5" style="height: 700px;">
        <img src="@faqImg.Url()" class="faq-img img-fluid shadow" style="border-radius:12px; margin-top:30px;"/>

        <h1 class="faq-title">@faqTitle</h1>
    </div>
}

<div class="faq-info-grid-container">
    <div class="faq-info-grid">
        @foreach (var item in accordion ?? Enumerable.Empty<BlockListItem>())
        {
            var content = item?.Content;
            if (content == null) continue;

            var accordionTitle = content.Value<string>("accordionTitle");
            var accordionContent = content.Value<string>("accordionContent");

            <div class="loan-card">
                <h2>@(string.IsNullOrWhiteSpace(accordionTitle) ? "Χωρίς τίτλο" : accordionTitle)</h2>
                <hr>
                <p>@Html.Raw(string.IsNullOrWhiteSpace(accordionContent) ? "—" : accordionContent)</p>
            </div>
        }
    </div>
</div>
